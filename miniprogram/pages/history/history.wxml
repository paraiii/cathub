<van-tabs active="{{ filterType }}" bind:change="onFilterChange" sticky color="#40c463">
  <van-tab title="å…¨éƒ¨" name="all"></van-tab>
  <van-tab title="ä½“é‡" name="weight"></van-tab>
  <van-tab title="å‘•å" name="vomit"></van-tab>
</van-tabs>

<view class="history-list">
  <van-cell 
    wx:for="{{ historyLogs }}" 
    wx:key="_id"
    title="{{ item.type === 'weight' ? 'âš–ï¸ ' + item.value + 'kg' : 'ðŸ¤¢ å‘•å' }}" 
    label="{{ item.date }} {{ item.timeStr }}{{ item.note ? ' Â· ' + item.note : '' }}"
    is-link
    bindtap="onSelectLog"
    data-item="{{ item }}" 
  />
</view>

<van-action-sheet
  show="{{ isActionShow }}"
  actions="{{ actions }}"
  cancel-text="å–æ¶ˆ"
  bind:close="onActionClose"
  bind:select="onActionSelect"
  bind:cancel="onActionClose"
/>

<van-dialog
  use-slot
  title="ä¿®æ”¹è®°å½•"
  show="{{ isDialogShow }}"
  show-cancel-button
  bind:close="onDialogClose"    
  bind:cancel="onDialogClose"   
  bind:confirm="onDialogConfirm" 
>
  <view class="dialog-content" style="padding: 30rpx;">
    <van-field
      wx:if="{{ selectedLog.type === 'weight' }}"
      label="ä½“é‡"
      value="{{ inputWeight }}"
      placeholder="0.0 kg"
      type="digit"
      bind:change="onWeightInputChange"
    />
    <van-field
      wx:else
      label="è¯´æ˜Ž"
      value="{{ inputNote }}"
      placeholder="é€‰å¡«å¤‡æ³¨"
      bind:change="onNoteInputChange"
    />
    
    <view class="time-picker-section" style="margin-top: 20rpx; border-top: 1rpx solid #eee; padding-top: 20rpx;">
      <view style="font-size: 26rpx; color: #666; margin-bottom: 10rpx;">è®°å½•æ—¶é—´</view>
      <van-datetime-picker
        type="datetime"
        value="{{ currentDate }}"
        bind:input="onDateChange" 
        item-height="40"
        visible-item-count="3"
        show-toolbar="{{ false }}"
      />
    </view>
  </view>
</van-dialog>